# åŒ»ç–—é™ªè¯Šå°ç¨‹åºæºä»£ç è¯´æ˜

## ä¸€ã€ä»£ç ç»“æ„

### 1.1 ç›®å½•ç»“æ„ 
escort-end/
â”œâ”€â”€ miniprogram/ # å°ç¨‹åºä»£ç 
â”‚ â”œâ”€â”€ components/ # è‡ªå®šä¹‰ç»„ä»¶
â”‚ â”œâ”€â”€ images/ # å›¾ç‰‡èµ„æº
â”‚ â”œâ”€â”€ pages/ # é¡µé¢æ–‡ä»¶
â”‚ â”œâ”€â”€ utils/ # å·¥å…·å‡½æ•°
â”‚ â”œâ”€â”€ app.js # å…¥å£æ–‡ä»¶
â”‚ â”œâ”€â”€ app.json # å…¨å±€é…ç½®
â”‚ â””â”€â”€ app.wxss # å…¨å±€æ ·å¼
â””â”€â”€ cloudfunctions/ # äº‘å‡½æ•°
â”œâ”€â”€ login/ # ç™»å½•ç›¸å…³
â”œâ”€â”€ orders/ # è®¢å•ç›¸å…³
â””â”€â”€ user/ # ç”¨æˆ·ç›¸å…³

### 1.2 æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. ç™»å½•æ³¨å†Œæ¨¡å—
avascript
// pages/login/login.js
// å®ç°å¾®ä¿¡ç™»å½•ã€æ‰‹æœºå·è·å–ç­‰åŠŸèƒ½
Page({
data: {
isAgree: false,
loading: false
},
// ç™»å½•å¤„ç†
handleLogin() {
// å¾®ä¿¡ç™»å½•é€»è¾‘
},
// æ³¨å†Œå¤„ç†
handleRegister() {
// æ³¨å†Œé€»è¾‘
}
})


#### 2. å·¥ä½œå°æ¨¡å—
javascript
// pages/workspace/workspace.js
// å®ç°è®¢å•ç®¡ç†ã€çŠ¶æ€åˆ‡æ¢ç­‰åŠŸèƒ½
Page({
data: {
isOnline: false,
orderList: [],
currentTab: 0
},
// åˆ‡æ¢åœ¨çº¿çŠ¶æ€
toggleStatus() {
// çŠ¶æ€åˆ‡æ¢é€»è¾‘
},
// æ¥å•å¤„ç†
handleOrder() {
// æ¥å•é€»è¾‘
}
})

#### 3. è®¢å•å¤„ç†æ¨¡å—
avascript
// cloudfunctions/orders/index.js
// å®ç°è®¢å•ç›¸å…³çš„äº‘å‡½æ•°
exports.main = async (event, context) => {
const { type, orderId } = event
switch(type) {
case 'accept':
// æ¥å•å¤„ç†
break
case 'complete':
// å®Œæˆè®¢å•
break
case 'cancel':
// å–æ¶ˆè®¢å•
break
}
}


## äºŒã€æ ¸å¿ƒåŠŸèƒ½å®ç°

### 2.1 ç”¨æˆ·è®¤è¯
javascript
// å¾®ä¿¡ç™»å½•
async function wxLogin() {
const { code } = await wx.login()
const { result } = await wx.cloud.callFunction({
name: 'login',
data: { code }
})
return result
}
// æ‰‹æœºå·è·å–
async function getPhoneNumber(e) {
const { cloudID } = e.detail
const { result } = await wx.cloud.callFunction({
name: 'getPhoneNumber',
data: { cloudID }
})
return result
}


### 2.2 è®¢å•ç®¡ç†
javascript
// è®¢å•çŠ¶æ€å¤„ç†
async function updateOrderStatus(orderId, status) {
const { result } = await wx.cloud.callFunction({
name: 'updateOrder',
data: {
orderId,
status,
updateTime: new Date()
}
})
return result
}
// è®¢å•åˆ—è¡¨è·å–
async function getOrderList(status) {
const { result } = await wx.cloud.callFunction({
name: 'getOrders',
data: { status }
})
return result
}

### 2.3 ä½ç½®æœåŠ¡
javascript
// ä½ç½®æ›´æ–°
async function updateLocation() {
const location = await wx.getLocation()
await wx.cloud.callFunction({
name: 'updateLocation',
data: location
})
}
// è·ç¦»è®¡ç®—
function calculateDistance(lat1, lon1, lat2, lon2) {
// ä½¿ç”¨Haversineå…¬å¼è®¡ç®—è·ç¦»
}


## ä¸‰ã€æ•°æ®åº“è®¾è®¡

### 3.1 æ•°æ®é›†åˆ
1. escorts (é™ªè¯Šå‘˜ä¿¡æ¯)
avascript
{
id: "string", // ID
openid: "string", // å¾®ä¿¡openid
name: "string", // å§“å
phone: "string", // æ‰‹æœºå·
status: "string", // çŠ¶æ€
createTime: "date" // åˆ›å»ºæ—¶é—´
}

2. orders (è®¢å•ä¿¡æ¯)
avascript
{
id: "string", // è®¢å•ID
userId: "string", // ç”¨æˆ·ID
escortId: "string", // é™ªè¯Šå‘˜ID
status: "string", // è®¢å•çŠ¶æ€
createTime: "date" // åˆ›å»ºæ—¶é—´
}

### 3.2 ç´¢å¼•è®¾è®¡
javascript
// escortsé›†åˆç´¢å¼•
{
"openid": 1, // ç”¨æˆ·ç´¢å¼•
"phone": 1, // æ‰‹æœºå·ç´¢å¼•
"status": 1 // çŠ¶æ€ç´¢å¼•
}
// ordersé›†åˆç´¢å¼•
{
"userId": 1, // ç”¨æˆ·ç´¢å¼•
"escortId": 1, // é™ªè¯Šå‘˜ç´¢å¼•
"status": 1, // çŠ¶æ€ç´¢å¼•
"createTime": -1 // æ—¶é—´ç´¢å¼•
}


## å››ã€å®‰å…¨æœºåˆ¶

### 4.1 æ•°æ®å®‰å…¨

javascript
// æ•°æ®åº“æƒé™è®¾ç½®
{
"read": true, // æ‰€æœ‰ç”¨æˆ·å¯è¯»
"write": "doc.openid == auth.openid" // ä»…åˆ›å»ºè€…å¯å†™
}
// æ•æ„Ÿæ•°æ®åŠ å¯†
function encryptData(data) {
// æ•°æ®åŠ å¯†é€»è¾‘
}


### 4.2 æ¥å£å®‰å…¨
javascript
// è¯·æ±‚ç­¾å
function signRequest(params) {
// ç­¾åé€»è¾‘
}
// å‚æ•°æ ¡éªŒ
function validateParams(params) {
// å‚æ•°éªŒè¯é€»è¾‘
}

## äº”ã€æ€§èƒ½ä¼˜åŒ–

### 5.1 ç¼“å­˜ç­–ç•¥
javascript
// æ•°æ®ç¼“å­˜
function cacheData(key, data) {
wx.setStorageSync(key, {
data,
timestamp: Date.now()
})
}
// ç¼“å­˜æ£€æŸ¥
function checkCache(key) {
const cache = wx.getStorageSync(key)
if (!cache) return null
if (Date.now() - cache.timestamp > CACHE_TIME) return null
return cache.data
}

### 5.2 è¯·æ±‚ä¼˜åŒ–
avascript
// è¯·æ±‚åˆå¹¶
async function batchRequest(requests) {
// åˆå¹¶è¯·æ±‚é€»è¾‘
}
// è¯·æ±‚é™æµ
function throttleRequest(fn, limit) {
// é™æµé€»è¾‘
}

## å…­ã€éƒ¨ç½²è¯´æ˜

### 6.1 ç¯å¢ƒé…ç½®
javascript
// äº‘ç¯å¢ƒé…ç½®
wx.cloud.init({
env: 'production-xxx',
traceUser: true
})
// æ•°æ®åº“åˆå§‹åŒ–
async function initDatabase() {
// æ•°æ®åº“åˆå§‹åŒ–é€»è¾‘
}

### 6.2 å‘å¸ƒæµç¨‹
1. ä»£ç å®¡æŸ¥
2. æµ‹è¯•éªŒè¯
3. ä¸Šä¼ ä»£ç 
4. æäº¤å®¡æ ¸
5. å‘å¸ƒä¸Šçº¿

## ä¸ƒã€æ›´æ–°è®°å½•

### V1.0.0 (2024-03-20)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®ç°åŸºç¡€åŠŸèƒ½
- å®Œæˆæ ¸å¿ƒæ¨¡å—

ç”¨æˆ·ç«¯
â”œâ”€â”€ miniprogram/ # å°ç¨‹åºä»£ç 
â”‚ â”œâ”€â”€ components/ # è‡ªå®šä¹‰ç»„ä»¶
â”‚ â”œâ”€â”€ pages/ # é¡µé¢æ–‡ä»¶
â”‚ â”œâ”€â”€ images/ # å›¾ç‰‡èµ„æº
â”‚ â”œâ”€â”€ utils/ # å·¥å…·å‡½æ•°
â”‚ â”œâ”€â”€ app.js # å…¥å£æ–‡ä»¶
â”‚ â”œâ”€â”€ app.json # å…¨å±€é…ç½®
â”‚ â””â”€â”€ app.wxss # å…¨å±€æ ·å¼
â””â”€â”€ cloudfunctions/ # äº‘å‡½æ•°
â”œâ”€â”€ login/ # ç™»å½•ç›¸å…³
â”œâ”€â”€ orders/ # è®¢å•ç›¸å…³
â””â”€â”€ user/ # ç”¨æˆ·ç›¸å…³

### 1.2 æ ¸å¿ƒæ–‡ä»¶è¯´æ˜
1. å°ç¨‹åºç«¯
javascript
// app.js - å°ç¨‹åºå…¥å£
App({
onLaunch: function () {
// åˆå§‹åŒ–äº‘å¼€å‘
wx.cloud.init({
env: 'cloud-env-id',
traceUser: true
})
},
globalData: {
userInfo: null,
isLogin: false
}
})

2. äº‘å‡½æ•°
avascript
// login/index.js - ç™»å½•äº‘å‡½æ•°
exports.main = async (event, context) => {
const { OPENID } = cloud.getWXContext()
// å¤„ç†ç™»å½•é€»è¾‘
return {
success: true,
data: userInfo
}
}

## äºŒã€æ ¸å¿ƒæ¨¡å—è¯´æ˜

### 2.1 ç™»å½•æ³¨å†Œæ¨¡å—
1. ç™»å½•é¡µé¢
avascript
// pages/login/login.js
Page({
// å¾®ä¿¡ç™»å½•
handleLogin() {
wx.cloud.callFunction({
name: 'login',
success: res => {
// å¤„ç†ç™»å½•ç»“æœ
}
})
}
})

2. æ³¨å†Œé¡µé¢
javascript
// pages/register/register.js
Page({
// æäº¤æ³¨å†Œ
submitForm() {
wx.cloud.callFunction({
name: 'submitRegistration',
data: this.data.formData,
success: res => {
// å¤„ç†æ³¨å†Œç»“æœ
}
})
}
})

### 2.2 å·¥ä½œå°æ¨¡å—
1. å·¥ä½œå°é¡µé¢
javascript
// pages/workspace/workspace.js
Page({
// åˆ‡æ¢åœ¨çº¿çŠ¶æ€
toggleOnline() {
wx.cloud.callFunction({
name: 'updateStatus',
data: { isOnline: true }
})
},
// æ¥å•å¤„ç†
acceptOrder(orderId) {
wx.cloud.callFunction({
name: 'acceptOrder',
data: { orderId }
})
}
})

2. è®¢å•è¯¦æƒ…
javascript
// pages/order-detail/order-detail.js
Page({
// æ›´æ–°è®¢å•çŠ¶æ€
updateOrderStatus(status) {
wx.cloud.callFunction({
name: 'updateOrderStatus',
data: {
orderId: this.data.orderId,
status
}
})
}
})

### 2.3 æ”¶å…¥æ¨¡å—
1. æ”¶å…¥ç»Ÿè®¡
avascript
// pages/income/income.js
Page({
// è·å–æ”¶å…¥æ•°æ®
getIncomeStats() {
wx.cloud.callFunction({
name: 'getIncomeStats',
success: res => {
this.setData({
stats: res.result.data
})
}
})
}
})

2. æç°åŠŸèƒ½
avascript
// pages/withdraw/withdraw.js
Page({
// æç°è¯·æ±‚
requestWithdraw() {
wx.cloud.callFunction({
name: 'withdraw',
data: {
amount: this.data.amount
}
})
}
})

## ä¸‰ã€æ•°æ®åº“è®¾è®¡

### 3.1 æ•°æ®é›†åˆ
1. escorts (é™ªè¯Šå‘˜ä¿¡æ¯)
javascript
{
id: "string", // ID
openid: "string", // å¾®ä¿¡openid
name: "string", // å§“å
phone: "string", // æ‰‹æœºå·
status: "string", // çŠ¶æ€
createTime: "Date" // åˆ›å»ºæ—¶é—´
}

2. orders (è®¢å•ä¿¡æ¯)
avascript
{
id: "string", // è®¢å•ID
escortId: "string", // é™ªè¯Šå‘˜ID
status: "string", // è®¢å•çŠ¶æ€
amount: "number", // è®¢å•é‡‘é¢
createTime: "Date" // åˆ›å»ºæ—¶é—´
}

### 3.2 ç´¢å¼•è®¾è®¡
1. escortsé›†åˆ
- openid: å”¯ä¸€ç´¢å¼•
- phone: å”¯ä¸€ç´¢å¼•
- status: æ™®é€šç´¢å¼•

2. ordersé›†åˆ
- escortId: æ™®é€šç´¢å¼•
- status: æ™®é€šç´¢å¼•
- createTime: æ™®é€šç´¢å¼•

## å››ã€æ¥å£è¯´æ˜

### 4.1 äº‘å‡½æ•°æ¥å£
1. login
avascript
// è¯·æ±‚å‚æ•°
{
userType: "escort"
}
// è¿”å›æ•°æ®
{
success: true,
data: {
userInfo: Object
}
}

2. acceptOrder
javascript
// è¯·æ±‚å‚æ•°
{
orderId: "string"
}
// è¿”å›æ•°æ®
{
success: true,
data: {
orderInfo: Object
}
}

### 4.2 æ•°æ®åº“æ“ä½œ
1. æŸ¥è¯¢æ“ä½œ
avascript
// è·å–é™ªè¯Šå‘˜ä¿¡æ¯
db.collection('escorts')
.where({
openid: openid
})
.get()

2. æ›´æ–°æ“ä½œ
javascript
// æ›´æ–°è®¢å•çŠ¶æ€
db.collection('orders')
.doc(orderId)
.update({
data: {
status: 'ACCEPTED'
}
})

## äº”ã€å·¥å…·å‡½æ•°

### 5.1 é€šç”¨å·¥å…·
1. æ—¶é—´æ ¼å¼åŒ–
javascript
// utils/format.js
export const formatTime = date => {
const year = date.getFullYear()
const month = date.getMonth() + 1
const day = date.getDate()
return ${year}-${month}-${day}
}

2. æ•°æ®éªŒè¯
javascript
// utils/validate.js
export const validatePhone = phone => {
return /^1[3-9]\d{9}$/.test(phone)
}

### 5.2 ä¸šåŠ¡å·¥å…·
1. è®¢å•çŠ¶æ€å¤„ç†
javascript
// utils/order.js
export const getOrderStatusText = status => {
const statusMap = {
PENDING: 'å¾…æ¥å•',
ACCEPTED: 'å·²æ¥å•',
COMPLETED: 'å·²å®Œæˆ'
}
return statusMap[status]
}

## å…­ã€ç»„ä»¶è¯´æ˜

### 6.1 è‡ªå®šä¹‰ç»„ä»¶
1. è®¢å•å¡ç‰‡
javascript
// components/order-card/order-card.js
Component({
properties: {
order: Object
},
methods: {
handleAccept() {
this.triggerEvent('accept')
}
}
})

### 6.2 é¡µé¢ç»„ä»¶
1. å·¥ä½œå°é¡µé¢
javascript
// pages/workspace/workspace.js
Page({
data: {
orders: [],
isOnline: false
},
onLoad() {
this.loadOrders()
}
})

## ä¸ƒã€éƒ¨ç½²è¯´æ˜

### 7.1 ç¯å¢ƒé…ç½®
1. å¼€å‘ç¯å¢ƒ
- å¾®ä¿¡å¼€å‘è€…å·¥å…·
- Node.jsç¯å¢ƒ
- äº‘å¼€å‘ç¯å¢ƒ

2. ç”Ÿäº§ç¯å¢ƒ
- äº‘å¼€å‘ç¯å¢ƒID
- å°ç¨‹åºAppID
- åŸŸåé…ç½®

### 7.2 éƒ¨ç½²æ­¥éª¤
1. äº‘å‡½æ•°éƒ¨ç½²
- å®‰è£…ä¾èµ–
- ä¸Šä¼ å‡½æ•°
- é…ç½®è§¦å‘å™¨

2. æ•°æ®åº“åˆå§‹åŒ–
- åˆ›å»ºé›†åˆ
- è®¾ç½®æƒé™
- åˆ›å»ºç´¢å¼•
### 8 æºç 
<view class="container">
  <!-- è®¢å•çŠ¶æ€ -->
  <view class="status-card">
    <view class="status-header">
      <text class="status-text">{{ORDER_STATUS_TEXT[order.status]}}</text>
      <text class="order-no">è®¢å•å·ï¼š{{order.orderNo}}</text>
    </view>
    <view class="status-timeline">
      <view class="timeline-item {{getTimelineStatus('PAID')}}" wx:if="{{order.statusInfo.PAIDTime}}">
        <text class="time">{{formatTime(order.statusInfo.PAIDTime)}}</text>
        <text class="label">è®¢å•æ”¯ä»˜</text>
      </view>
      <view class="timeline-item {{getTimelineStatus('ACCEPTED')}}" wx:if="{{order.statusInfo.ACCEPTEDTime}}">
        <text class="time">{{formatTime(order.statusInfo.ACCEPTEDTime)}}</text>
        <text class="label">æ¥å•</text>
      </view>
      <view class="timeline-item {{getTimelineStatus('ARRIVED')}}" wx:if="{{order.statusInfo.ARRIVEDTime}}">
        <text class="time">{{formatTime(order.statusInfo.ARRIVEDTime)}}</text>
        <text class="label">åˆ°è¾¾åŒ»é™¢</text>
      </view>
      <view class="timeline-item {{getTimelineStatus('PROCESSING')}}" wx:if="{{order.statusInfo.PROCESSINGTime}}">
        <text class="time">{{formatTime(order.statusInfo.PROCESSINGTime)}}</text>
        <text class="label">å¼€å§‹æœåŠ¡</text>
      </view>
      <view class="timeline-item {{getTimelineStatus('COMPLETED')}}" wx:if="{{order.statusInfo.COMPLETEDTime}}">
        <text class="time">{{formatTime(order.statusInfo.COMPLETEDTime)}}</text>
        <text class="label">å®ŒæˆæœåŠ¡</text>
      </view>
    </view>
  </view>

  <!-- å°±åŒ»ä¿¡æ¯ -->
  <view class="info-card">
    <view class="card-title">å°±åŒ»ä¿¡æ¯</view>
    <view class="info-item">
      <text class="label">å°±åŒ»äºº</text>
      <text class="value">{{order.patientInfo.name}}</text>
    </view>
    <view class="info-item">
      <text class="label">è”ç³»ç”µè¯</text>
      <text class="value">{{order.patientInfo.phone}}</text>
      <button class="call-btn" bindtap="makePhoneCall" data-phone="{{order.patientInfo.phone}}">
        <text class="icon icon-phone"></text>
      </button>
    </view>
    <view class="info-item">
      <text class="label">å°±åŒ»åŒ»é™¢</text>
      <text class="value">{{order.hospitalInfo.hospitalName}}</text>
    </view>
    <view class="info-item">
      <text class="label">å°±è¯Šç§‘å®¤</text>
      <text class="value">{{order.hospitalInfo.departmentName}}</text>
    </view>
    <view class="info-item">
      <text class="label">é¢„çº¦æ—¶é—´</text>
      <text class="value">{{order.serviceInfo.appointmentDate}} {{order.serviceInfo.timeSlot}}</text>
    </view>
    <view class="hospital-location" bindtap="navigateToHospital">
      <image class="map" src="{{order.hospitalInfo.mapUrl}}"></image>
      <view class="location-info">
        <text class="address">{{order.hospitalInfo.address}}</text>
        <text class="distance" wx:if="{{distance}}">è·æ‚¨{{distance}}km</text>
      </view>
      <text class="icon icon-arrow"></text>
    </view>
  </view>

  <!-- æœåŠ¡ä¿¡æ¯ -->
  <view class="info-card">
    <view class="card-title">æœåŠ¡ä¿¡æ¯</view>
    <view class="info-item">
      <text class="label">æœåŠ¡ç±»å‹</text>
      <text class="value">{{order.serviceInfo.serviceType}}</text>
    </view>
    <view class="info-item">
      <text class="label">é¢„è®¡æ—¶é•¿</text>
      <text class="value">{{order.serviceInfo.duration}}å°æ—¶</text>
    </view>
    <view class="info-item" wx:if="{{order.serviceInfo.requirements}}">
      <text class="label">ç‰¹æ®Šè¦æ±‚</text>
      <text class="value">{{order.serviceInfo.requirements}}</text>
    </view>
  </view>

  <!-- æœåŠ¡è®°å½• -->
  <view class="info-card" wx:if="{{order.serviceRecord}}">
    <view class="card-title">æœåŠ¡è®°å½•</view>
    <view class="service-notes">
      <view class="note-item" wx:for="{{order.serviceRecord.serviceNotes}}" wx:key="index">
        <text class="time">{{formatTime(item.time)}}</text>
        <text class="content">{{item.content}}</text>
        <view class="photos" wx:if="{{item.photos.length > 0}}">
          <image 
            class="photo" 
            wx:for="{{item.photos}}" 
            wx:key="*this" 
            wx:for-item="photo"
            src="{{photo}}"
            mode="aspectFill"
            bindtap="previewImage"
            data-urls="{{item.photos}}"
            data-current="{{photo}}"
          ></image>
        </view>
      </view>
    </view>
  </view>

  <!-- è®¢å•é‡‘é¢ -->
  <view class="info-card">
    <view class="card-title">è®¢å•é‡‘é¢</view>
    <view class="price-item">
      <text class="label">é™ªè¯Šè´¹ç”¨</text>
      <text class="value">Â¥{{order.paymentInfo.escortAmount}}</text>
    </view>
    <view class="price-item">
      <text class="label">ä¿é™©è´¹ç”¨</text>
      <text class="value">Â¥{{order.paymentInfo.insuranceAmount}}</text>
    </view>
    <view class="price-item">
      <text class="label">å¹³å°æœåŠ¡è´¹</text>
      <text class="value">Â¥{{order.paymentInfo.platformFee}}</text>
    </view>
    <view class="price-total">
      <text class="label">åˆè®¡é‡‘é¢</text>
      <text class="value">Â¥{{order.paymentInfo.totalAmount}}</text>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
  <view class="bottom-btns" wx:if="{{showActionButtons}}">
    <block wx:if="{{order.status === 'PAID'}}">
      <button class="btn btn-primary" bindtap="acceptOrder">æ¥å•</button>
    </block>
    <block wx:if="{{order.status === 'ACCEPTED'}}">
      <button class="btn btn-primary" bindtap="arrivedHospital">åˆ°è¾¾åŒ»é™¢</button>
    </block>
    <block wx:if="{{order.status === 'ARRIVED'}}">
      <button class="btn btn-primary" bindtap="startService">å¼€å§‹æœåŠ¡</button>
    </block>
    <block wx:if="{{order.status === 'PROCESSING'}}">
      <button class="btn btn-default" bindtap="addServiceNote">æ·»åŠ è®°å½•</button>
      <button class="btn btn-primary" bindtap="completeService">å®ŒæˆæœåŠ¡</button>
    </block>
  </view>
</view> 

<view class="container">
  <view class="result-box">
    <image class="status-icon" src="/images/submit-success.png"></image>
    <text class="title">æäº¤æˆåŠŸ</text>
    <text class="desc">æ‚¨çš„æ³¨å†Œç”³è¯·å·²æäº¤ï¼Œæˆ‘ä»¬å°†åœ¨1-3ä¸ªå·¥ä½œæ—¥å†…å®Œæˆå®¡æ ¸</text>
    
    <view class="info-list">
      <view class="info-item">
        <text class="label">å®¡æ ¸è¿›åº¦æŸ¥è¯¢</text>
        <text class="value">è¯·å‰å¾€"æˆ‘çš„-æ³¨å†ŒçŠ¶æ€"æŸ¥çœ‹</text>
      </view>
      <view class="info-item">
        <text class="label">å®¡æ ¸é€šè¿‡é€šçŸ¥</text>
        <text class="value">æˆ‘ä»¬å°†é€šè¿‡çŸ­ä¿¡é€šçŸ¥æ‚¨å®¡æ ¸ç»“æœ</text>
      </view>
      <view class="info-item">
        <text class="label">å®¢æœå’¨è¯¢</text>
        <text class="value">å·¥ä½œæ—¥ 9:00-18:00</text>
      </view>
    </view>

    <view class="btn-group">
      <button class="primary-btn" bindtap="checkStatus">æŸ¥çœ‹å®¡æ ¸çŠ¶æ€</button>
      <button class="outline-btn" open-type="contact">è”ç³»å®¢æœ</button>
    </view>
  </view>

  <!-- æ¸©é¦¨æç¤º -->
  <view class="tips-box">
    <view class="tips-title">
      <text class="icon">ğŸ“Œ</text>
      <text>æ¸©é¦¨æç¤º</text>
    </view>
    <view class="tips-content">
      <text class="tip-item">â€¢ è¯·ç¡®ä¿æäº¤çš„è¯ä»¶ç…§ç‰‡æ¸…æ™°å®Œæ•´</text>
      <text class="tip-item">â€¢ å®¡æ ¸é€šè¿‡åå³å¯å¼€å§‹æ¥å•</text>
      <text class="tip-item">â€¢ å¦‚æœ‰ç–‘é—®è¯·è”ç³»åœ¨çº¿å®¢æœ</text>
    </view>
  </view>
</view> 

<view class="container">
  <!-- æ ‡ç­¾æ  -->
  <view class="tabs">
    <view 
      class="tab-item {{currentTab === index ? 'active' : ''}}" 
      wx:for="{{tabs}}" 
      wx:key="*this"
      bindtap="switchTab"
      data-tab="{{index}}"
    >
      <text>{{item}}</text>
    </view>
  </view>

  <!-- åŸ¹è®­åˆ—è¡¨ -->
  <scroll-view 
    class="training-list"
    scroll-y
    refresher-enabled
    refresher-triggered="{{refreshing}}"
    bindrefresherrefresh="onRefresh"
    bindscrolltolower="onLoadMore"
  >
    <view class="training-item" wx:for="{{trainings}}" wx:key="_id">
      <view class="training-header">
        <text class="title">{{item.title}}</text>
        <text class="status {{item.isCompleted ? 'completed' : ''}}">
          {{item.isCompleted ? 'å·²å®Œæˆ' : 'å¾…å­¦ä¹ '}}
        </text>
      </view>

      <view class="training-content">
        <view class="info-row">
          <text class="label">åŸ¹è®­ç±»å‹ï¼š</text>
          <text class="value">{{item.type}}</text>
        </view>
        <view class="info-row">
          <text class="label">åŸ¹è®­æ—¶é•¿ï¼š</text>
          <text class="value">{{item.duration}}åˆ†é’Ÿ</text>
        </view>
        <view class="info-row">
          <text class="label">å¼€å§‹æ—¶é—´ï¼š</text>
          <text class="value">{{item.startTime}}</text>
        </view>
        <view class="info-row">
          <text class="label">æˆªæ­¢æ—¶é—´ï¼š</text>
          <text class="value">{{item.endTime}}</text>
        </view>
      </view>

      <view class="training-footer">
        <view class="score" wx:if="{{item.isCompleted}}">
          <text class="label">è€ƒè¯•å¾—åˆ†ï¼š</text>
          <text class="value {{item.score >= 60 ? 'pass' : 'fail'}}">{{item.score}}åˆ†</text>
        </view>
        <button 
          class="start-btn {{item.isCompleted ? 'disabled' : ''}}" 
          bindtap="startTraining" 
          data-id="{{item._id}}"
          disabled="{{item.isCompleted}}"
        >
          {{item.isCompleted ? 'å·²å®Œæˆ' : 'å¼€å§‹å­¦ä¹ '}}
        </button>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-tip" wx:if="{{trainings.length === 0}}">
      <image src="/images/empty.png"></image>
      <text>æš‚æ— {{currentTab === 0 ? 'å¾…å­¦ä¹ ' : 'å·²å®Œæˆ'}}çš„åŸ¹è®­</text>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view class="loading-more" wx:if="{{hasMore}}">
      <text>åŠ è½½ä¸­...</text>
    </view>
  </scroll-view>
</view> 

<view class="container">
  <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
  <view class="status-bar">
    <view class="escort-info">
      <image class="avatar" src="{{escortInfo.avatar || '/images/default-avatar.png'}}"></image>
      <view class="info">
        <text class="name">{{escortInfo.name}}</text>
        <text class="rating">è¯„åˆ† {{escortInfo.rating || '5.0'}}</text>
      </view>
    </view>
    <view class="online-status">
      <text>æ¥å•çŠ¶æ€</text>
      <switch checked="{{isOnline}}" bindchange="toggleOnlineStatus" color="#52c41a"/>
    </view>
  </view>

  <!-- è®¢å•ç»Ÿè®¡ -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="count">{{todayOrders || 0}}</text>
      <text class="label">ä»Šæ—¥è®¢å•</text>
    </view>
    <view class="stat-item">
      <text class="count">{{monthOrders || 0}}</text>
      <text class="label">æœ¬æœˆè®¢å•</text>
    </view>
    <view class="stat-item">
      <text class="count">{{totalOrders || 0}}</text>
      <text class="label">æ€»è®¢å•</text>
    </view>
  </view>

  <!-- è®¢å•åˆ—è¡¨æ ‡ç­¾é¡µ -->
  <view class="tabs">
    <view 
      class="tab-item {{currentTab === index ? 'active' : ''}}" 
      wx:for="{{tabs}}" 
      wx:key="*this"
      bindtap="switchTab"
      data-tab="{{index}}"
    >
      <text>{{item}}</text>
      <view class="badge" wx:if="{{index === 0 && newOrders.length > 0}}">{{newOrders.length}}</view>
    </view>
  </view>

  <!-- è®¢å•åˆ—è¡¨ -->
  <scroll-view 
    class="order-list"
    scroll-y
    refresher-enabled
    refresher-triggered="{{refreshing}}"
    bindrefresherrefresh="onRefresh"
    bindscrolltolower="onLoadMore"
  >
    <!-- æ–°è®¢å• -->
    <block wx:if="{{currentTab === 0}}">
      <view class="order-item" wx:for="{{newOrders}}" wx:key="_id">
        <view class="order-header">
          <text class="order-no">è®¢å•å·ï¼š{{item.orderNo}}</text>
          <text class="time">{{item.createTime}}</text>
        </view>
        <view class="order-content">
          <view class="hospital-info">
            <text class="hospital">{{item.hospitalName}}</text>
            <text class="department">{{item.departmentName}}</text>
          </view>
          <view class="service-info">
            <text class="service-type">{{item.serviceType}}</text>
            <text class="price">Â¥{{item.price}}</text>
          </view>
          <view class="patient-info">
            <text class="label">å°±åŒ»äººï¼š</text>
            <text>{{item.patientName}}</text>
          </view>
          <view class="appointment-info">
            <text class="label">å°±åŒ»æ—¶é—´ï¼š</text>
            <text>{{item.appointmentDate}} {{item.timeSlot}}</text>
          </view>
        </view>
        <view class="order-footer">
          <button 
            class="accept-btn" 
            bindtap="acceptOrder" 
            data-id="{{item._id}}"
          >æ¥å•</button>
        </view>
      </view>
      <view class="empty-tip" wx:if="{{newOrders.length === 0}}">
        <image src="/images/empty.png"></image>
        <text>æš‚æ— æ–°è®¢å•</text>
      </view>
    </block>

    <!-- è¿›è¡Œä¸­è®¢å• -->
    <block wx:if="{{currentTab === 1}}">
      <view class="order-item" wx:for="{{processingOrders}}" wx:key="_id">
        <view class="order-header">
          <text class="order-no">è®¢å•å·ï¼š{{item.orderNo}}</text>
          <text class="status">è¿›è¡Œä¸­</text>
        </view>
        <view class="order-content">
          <!-- è®¢å•å†…å®¹åŒä¸Š -->
        </view>
        <view class="order-footer">
          <button 
            class="complete-btn" 
            bindtap="completeOrder" 
            data-id="{{item._id}}"
          >å®ŒæˆæœåŠ¡</button>
        </view>
      </view>
      <view class="empty-tip" wx:if="{{processingOrders.length === 0}}">
        <image src="/images/empty.png"></image>
        <text>æš‚æ— è¿›è¡Œä¸­è®¢å•</text>
      </view>
    </block>

    <!-- å†å²è®¢å• -->
    <block wx:if="{{currentTab === 2}}">
      <view class="order-item" wx:for="{{historyOrders}}" wx:key="_id">
        <view class="order-header">
          <text class="order-no">è®¢å•å·ï¼š{{item.orderNo}}</text>
          <text class="status">å·²å®Œæˆ</text>
        </view>
        <view class="order-content">
          <!-- è®¢å•å†…å®¹åŒä¸Š -->
        </view>
        <view class="order-footer">
          <text class="complete-time">å®Œæˆæ—¶é—´ï¼š{{item.completeTime}}</text>
        </view>
      </view>
      <view class="empty-tip" wx:if="{{historyOrders.length === 0}}">
        <image src="/images/empty.png"></image>
        <text>æš‚æ— å†å²è®¢å•</text>
      </view>
    </block>

    <!-- åŠ è½½æ›´å¤š -->
    <view class="loading-more" wx:if="{{hasMore}}">
      <text>åŠ è½½ä¸­...</text>
    </view>
  </scroll-view>
</view> 
<view class="container">
  <!-- æ”¶å…¥æ¦‚è§ˆå¡ç‰‡ -->
  <view class="income-card">
    <view class="total-income">
      <text class="label">æ€»æ”¶å…¥(å…ƒ)</text>
      <text class="amount">{{totalIncome || '0.00'}}</text>
    </view>
    <view class="income-stats">
      <view class="stat-item">
        <text class="count">{{monthlyIncome || '0.00'}}</text>
        <text class="label">æœ¬æœˆæ”¶å…¥</text>
      </view>
      <view class="stat-item">
        <text class="count">{{orderCount || '0'}}</text>
        <text class="label">æœåŠ¡è®¢å•</text>
      </view>
      <view class="stat-item">
        <text class="count">{{rating || '0.0'}}</text>
        <text class="label">ç»¼åˆè¯„åˆ†</text>
      </view>
    </view>
  </view>

  <!-- æ”¶å…¥æ˜ç»†åˆ—è¡¨ -->
  <scroll-view 
    class="income-list"
    scroll-y
    refresher-enabled
    refresher-triggered="{{refreshing}}"
    bindrefresherrefresh="onRefresh"
    bindscrolltolower="onLoadMore"
  >
    <view class="list-header">
      <text class="title">æ”¶å…¥æ˜ç»†</text>
      <picker 
        mode="date" 
        fields="month" 
        value="{{currentMonth}}"
        bindchange="onMonthChange"
      >
        <view class="month-picker">
          <text>{{currentMonth}}</text>
          <text class="icon icon-calendar"></text>
        </view>
      </picker>
    </view>

    <view class="income-item" wx:for="{{incomeList}}" wx:key="_id">
      <view class="order-info">
        <text class="order-no">è®¢å•å·ï¼š{{item.orderNo}}</text>
        <text class="income {{item.status === 'PENDING' ? 'pending' : ''}}">
          {{item.status === 'PENDING' ? 'å¾…ç»“ç®—' : '+' + item.amount}}
        </text>
      </view>
      <view class="service-info">
        <text class="hospital">{{item.hospitalName}}</text>
        <text class="department">{{item.departmentName}}</text>
      </view>
      <view class="time-info">
        <text class="time">{{item.createTime}}</text>
        <text class="status">{{item.statusText}}</text>
      </view>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view class="loading-more" wx:if="{{hasMore}}">
      <text>åŠ è½½ä¸­...</text>
    </view>
    
    <!-- æ— æ•°æ®æç¤º -->
    <view class="empty-tip" wx:if="{{incomeList.length === 0}}">
      <image src="/images/empty.png"></image>
      <text>æš‚æ— æ”¶å…¥è®°å½•</text>
    </view>
  </scroll-view>

  <!-- æç°æŒ‰é’® -->
  <view class="withdraw-btn-wrapper">
    <button class="withdraw-btn" bindtap="showWithdrawModal">
      <text class="icon icon-wallet"></text>
      <text>æç°</text>
    </button>
  </view>
</view> 
const app = getApp()
const db = wx.cloud.database()

Page({
  data: {
    totalIncome: '0.00',
    monthlyIncome: '0.00',
    orderCount: 0,
    rating: '0.0',
    currentMonth: '',
    incomeList: [],
    refreshing: false,
    hasMore: false,
    page: 1,
    pageSize: 20
  },

  onLoad() {
    // è®¾ç½®å½“å‰æœˆä»½
    const now = new Date()
    this.setData({
      currentMonth: `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`
    })
    
    this.loadIncomeStats()
    this.loadIncomeList()
  },

  // åŠ è½½æ”¶å…¥ç»Ÿè®¡
  async loadIncomeStats() {
    try {
      const { result } = await wx.cloud.callFunction({
        name: 'getIncomeStats'
      })

      if (result.success) {
        this.setData({
          totalIncome: result.data.totalIncome.toFixed(2),
          monthlyIncome: result.data.monthlyIncome.toFixed(2),
          orderCount: result.data.orderCount,
          rating: result.data.rating.toFixed(1)
        })
      }
    } catch (err) {
      console.error('åŠ è½½æ”¶å…¥ç»Ÿè®¡å¤±è´¥', err)
      wx.showToast({
        title: 'åŠ è½½å¤±è´¥',
        icon: 'none'
      })
    }
  },

  // åŠ è½½æ”¶å…¥æ˜ç»†
  async loadIncomeList(append = false) {
    try {
      const { result } = await wx.cloud.callFunction({
        name: 'getIncomeList',
        data: {
          month: this.data.currentMonth,
          page: this.data.page,
          pageSize: this.data.pageSize
        }
      })

      if (result.success) {
        const list = result.data.list.map(item => ({
          ...item,
          createTime: this.formatTime(item.createTime),
          amount: item.amount.toFixed(2),
          statusText: this.getStatusText(item.status)
        }))

        this.setData({
          incomeList: append ? [...this.data.incomeList, ...list] : list,
          hasMore: list.length === this.data.pageSize
        })
      }
    } catch (err) {
      console.error('åŠ è½½æ”¶å…¥æ˜ç»†å¤±è´¥', err)
      wx.showToast({
        title: 'åŠ è½½å¤±è´¥',
        icon: 'none'
      })
    }
  },

  // ä¸‹æ‹‰åˆ·æ–°
  async onRefresh() {
    this.setData({
      refreshing: true,
      page: 1
    })

    try {
      await Promise.all([
        this.loadIncomeStats(),
        this.loadIncomeList()
      ])
    } finally {
      this.setData({
        refreshing: false
      })
    }
  },

  // åŠ è½½æ›´å¤š
  async onLoadMore() {
    if (!this.data.hasMore || this.data.refreshing) return

    this.setData({
      page: this.data.page + 1
    })

    await this.loadIncomeList(true)
  },

  // åˆ‡æ¢æœˆä»½
  onMonthChange(e) {
    this.setData({
      currentMonth: e.detail.value,
      page: 1
    })
    this.loadIncomeList()
  },

  // æ˜¾ç¤ºæç°å¼¹çª—
  showWithdrawModal() {
    wx.showModal({
      title: 'æç°é‡‘é¢',
      editable: true,
      placeholderText: 'è¯·è¾“å…¥æç°é‡‘é¢',
      success: (res) => {
        if (res.confirm) {
          const amount = parseFloat(res.content)
          if (isNaN(amount) || amount <= 0) {
            wx.showToast({
              title: 'è¯·è¾“å…¥æ­£ç¡®é‡‘é¢',
              icon: 'none'
            })
            return
          }
          this.requestWithdraw(amount)
        }
      }
    })
  },

  // ç”³è¯·æç°
  requestWithdraw(amount) {
    wx.showLoading({
      title: 'å¤„ç†ä¸­...'
    })

    wx.cloud.callFunction({
      name: 'escortWithdraw',
      data: { amount }
    }).then(res => {
      if (res.result.success) {
        wx.showToast({
          title: 'æç°ç”³è¯·å·²æäº¤',
          icon: 'success'
        })
        // åˆ·æ–°æ•°æ®
        this.loadIncomeData()
      } else {
        throw new Error(res.result.error)
      }
    }).catch(err => {
      wx.showToast({
        title: err.message || 'æç°å¤±è´¥',
        icon: 'none'
      })
    }).finally(() => {
      wx.hideLoading()
    })
  },

  // æ ¼å¼åŒ–æ—¶é—´
  formatTime(timestamp) {
    const date = new Date(timestamp)
    return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`
  },

  // è·å–çŠ¶æ€æ–‡æœ¬
  getStatusText(status) {
    const statusMap = {
      'PENDING': 'å¾…ç»“ç®—',
      'COMPLETED': 'å·²ç»“ç®—',
      'PROCESSING': 'ç»“ç®—ä¸­',
      'FAILED': 'ç»“ç®—å¤±è´¥'
    }
    return statusMap[status] || status
  }
}) 
Page({
  data: {
    registrationId: '' // æ³¨å†Œç”³è¯·ID
  },

  onLoad(options) {
    if (options.id) {
      this.setData({
        registrationId: options.id
      })
    }
  },

  // æŸ¥çœ‹å®¡æ ¸çŠ¶æ€
  checkStatus() {
    wx.navigateTo({
      url: '/pages/register-status/register-status'
    })
  },

  // è¿”å›é¦–é¡µ
  goHome() {
    wx.switchTab({
      url: '/pages/index/index'
    })
  },

  // é˜²æ­¢ç”¨æˆ·è¿”å›åˆ°æ³¨å†Œé¡µ
  onUnload() {
    const pages = getCurrentPages()
    if (pages.length > 1) {
      const prePage = pages[pages.length - 2]
      if (prePage.route.includes('register')) {
        wx.switchTab({
          url: '/pages/index/index'
        })
      }
    }
  }
}) 
const app = getApp()

Page({
  data: {
    currentTab: 0,
    tabs: ['å¾…å­¦ä¹ ', 'å·²å®Œæˆ'],
    trainings: [],
    refreshing: false,
    hasMore: false,
    page: 1,
    pageSize: 20
  },

  onLoad() {
    this.loadTrainings()
  },

  // åˆ‡æ¢æ ‡ç­¾
  switchTab(e) {
    const tab = e.currentTarget.dataset.tab
    this.setData({
      currentTab: parseInt(tab),
      page: 1
    }, () => {
      this.loadTrainings()
    })
  },

  // åŠ è½½åŸ¹è®­åˆ—è¡¨
  async loadTrainings(append = false) {
    const { currentTab, page, pageSize } = this.data
    const status = currentTab === 0 ? 'upcoming' : 'completed'

    try {
      const { result } = await wx.cloud.callFunction({
        name: 'getTrainings',
        data: { status, page, pageSize }
      })

      if (result.success) {
        this.setData({
          trainings: append ? [...this.data.trainings, ...result.data.list] : result.data.list,
          hasMore: result.data.list.length === pageSize
        })
      }
    } catch (err) {
      console.error('åŠ è½½åŸ¹è®­åˆ—è¡¨å¤±è´¥', err)
      wx.showToast({
        title: 'åŠ è½½å¤±è´¥',
        icon: 'none'
      })
    }
  },

  // ä¸‹æ‹‰åˆ·æ–°
  async onRefresh() {
    this.setData({
      refreshing: true,
      page: 1
    })

    await this.loadTrainings()
    this.setData({ refreshing: false })
  },

  // åŠ è½½æ›´å¤š
  async onLoadMore() {
    if (!this.data.hasMore || this.data.refreshing) return

    this.setData({
      page: this.data.page + 1
    })
    await this.loadTrainings(true)
  },

  // å¼€å§‹åŸ¹è®­
  startTraining(e) {
    const id = e.currentTarget.dataset.id
    wx.navigateTo({
      url: `/pages/training-detail/training-detail?id=${id}`
    })
  }
}) 
const app = getApp()

Page({
  data: {
    training: null,
    currentSection: 0,
    progress: 0
  },

  onLoad(options) {
    if (options.id) {
      this.loadTrainingDetail(options.id)
    }
  },

  // åŠ è½½åŸ¹è®­è¯¦æƒ…
  async loadTrainingDetail(id) {
    try {
      const { result } = await wx.cloud.callFunction({
        name: 'getTrainingDetail',
        data: { id }
      })

      if (result.success) {
        this.setData({
          training: result.data
        })
      }
    } catch (err) {
      console.error('åŠ è½½åŸ¹è®­è¯¦æƒ…å¤±è´¥', err)
      wx.showToast({
        title: 'åŠ è½½å¤±è´¥',
        icon: 'none'
      })
    }
  },

  // åˆ‡æ¢ç« èŠ‚
  switchSection(e) {
    const index = e.currentTarget.dataset.index
    this.setData({
      currentSection: index
    })
  },

  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress() {
    const progress = Math.min(
      ((this.data.currentSection + 1) / this.data.training.sections.length) * 100,
      100
    )
    this.setData({ progress })
  },

  // å¼€å§‹è€ƒè¯•
  startExam() {
    wx.navigateTo({
      url: `/pages/training-exam/training-exam?id=${this.data.training._id}`
    })
  }
}) 
<view class="container">
  <!-- åŸ¹è®­ä¿¡æ¯ -->
  <view class="training-info">
    <view class="title">{{training.title}}</view>
    <view class="info-row">
      <text class="label">åŸ¹è®­ç±»å‹ï¼š</text>
      <text class="value">{{training.type}}</text>
    </view>
    <view class="info-row">
      <text class="label">åŸ¹è®­æ—¶é•¿ï¼š</text>
      <text class="value">{{training.duration}}åˆ†é’Ÿ</text>
    </view>
    <view class="info-row">
      <text class="label">å¼€å§‹æ—¶é—´ï¼š</text>
      <text class="value">{{training.startTime}}</text>
    </view>
    <view class="info-row">
      <text class="label">æˆªæ­¢æ—¶é—´ï¼š</text>
      <text class="value">{{training.endTime}}</text>
    </view>
  </view>

  <!-- å­¦ä¹ è¿›åº¦ -->
  <view class="progress-section">
    <view class="section-title">å­¦ä¹ è¿›åº¦</view>
    <view class="progress-bar">
      <view class="progress" style="width: {{progress}}%"></view>
    </view>
    <view class="progress-text">{{progress}}%</view>
  </view>

  <!-- ç« èŠ‚åˆ—è¡¨ -->
  <view class="sections">
    <view class="section-title">è¯¾ç¨‹ç« èŠ‚</view>
    <view 
      class="section-item {{currentSection === index ? 'active' : ''}}"
      wx:for="{{training.sections}}"
      wx:key="id"
      bindtap="switchSection"
      data-index="{{index}}"
    >
      <view class="section-header">
        <text class="section-name">{{item.name}}</text>
        <text class="duration">{{item.duration}}åˆ†é’Ÿ</text>
      </view>
      <view class="section-content" wx:if="{{currentSection === index}}">
        <video 
          wx:if="{{item.type === 'video'}}"
          src="{{item.content}}"
          autoplay="{{false}}"
          controls
        ></video>
        <rich-text 
          wx:else
          nodes="{{item.content}}"
        ></rich-text>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æŒ‰é’® -->
  <view class="bottom-bar">
    <button 
      class="exam-btn" 
      type="primary" 
      bindtap="startExam"
      disabled="{{progress < 100}}"
    >
      {{progress < 100 ? 'è¯·å…ˆå®Œæˆå­¦ä¹ ' : 'å¼€å§‹è€ƒè¯•'}}
    </button>
  </view>
</view> 